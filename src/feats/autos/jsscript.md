---
title: Javascript 脚本
order: 10
---

BetterGI 内部有大量原神自动化基础能力的包装，并可以通过 Javascript 书写的脚本进行调用，JS脚本通过 [ClearScript](https://github.com/microsoft/ClearScript) 内置 V8 引擎进行执行。

期望最终能够做到自动启动原神并完成所有脚本任务后自动关机。

所有脚本存储在软件根目录 `User\JsScript` 路径下。脚本仓库：[bettergi-scripts-list](https://github.com/babalae/bettergi-scripts-list) ( repo/js 路径下)。  

## 使用示例

有些js自带设置，需要用户在使用前进行设置，我们以地脉花为例

点击配置器，加入对应js脚本，然后右键单击，出现菜单栏后，再点击修改js脚本自定义配置

![调度器js(1)](https://github.com/user-attachments/assets/d96777a1-f5be-4551-a592-8c2e76d80ba3)

设置完成后，点击关闭即可保存配置。

![调度器js-2](https://github.com/user-attachments/assets/5eea7b6a-bd56-4fa2-a94f-fd43fcd9d3a2)

## 常见问题

### ❓运行键鼠脚本时候方向有较大偏差？
  * JS自动采集晶蝶调用了键鼠脚本
  * 请确保游戏视角灵敏度保持默认（默认值是3）

### ❓运行自动晶蝶脚本时传送过去晶蝶已经飞走了？
请确保队伍中带有早柚/瑶瑶/蓝砚。

### ❓晶蝶抓不齐？
自动晶蝶在走到目的地时没有任何图像识别，无法保证百分百获取。

### ❓狗粮批发为什么会用稻妻的大炮？
请阅读狗粮批发的README了解脚本运行机制。

### ❓游逸旅闻没有新角色吗？
版本更新初期作者需要收集大量点位，梳理角色剧情顺序，所有点位加在一起工作量非常大，甚至有可能完不成，因此欢迎你来帮助作者，加速制作。

### ❓如果我有多个账号怎么自动切换账号？
请搜索切换账号js脚本并配合调度器一起使用。

### ❓为什么运行脚本过程中卡住了？
目前在脚本可以运行的前提下，中途卡住的情况有以下分类：  

1. **角色卡墙**：可分为路线本身问题、角色体型差异、地图识别精度差异、钟离放柱子这几种情况，你可以将你的情况告知给作者来优化路线。  
也有用户会在一次运行中频繁触发战斗超时，此类情况请查看[自动战斗与秘境](/feats/task/domain.html#常见问题)中的常见问题以解决。  
2. **活动与剧情**：版本活动（如拍照活动）与大世界挂钩时，身处活动点位时可能会触发角色介绍、进入剧情、跳出引导等特殊情况，此类情况部分作者会处理，否则遇到时就等待活动结束吧～。  
同理，大世界剧情也可能会干扰你的运行，因此，使用脚本的玩家一般默认为满探玩家。  
3. **交互对话**：一些npc、调查点、触发选项可能会在你经过时被自动点击，如果被这类交互干扰到，请配置对应[黑名单](/feats/timer/pick.html#黑白名单设置)。
4. **断网重连**：部分用户网络不太通畅，运行脚本过程中会出现网络断连，但脚本还在运行的情况，请先检查自己的网络环境以排查问题。  
5. **点位解锁**：有一些新手或者游玩时间并不长的玩家没有解锁全部的传送点或是必经之路上的观景点，这会导致无法传送或停在观景点图片中，请先解锁点位以保证运行。  
6. **月卡领取**：当半夜运行BGI需要跨越4点时，跳出的月卡弹窗也会干扰运行，部分脚本作者对此做了处理，但并不是全部作者都能照顾此类情况，请您尽量保证脚本运行的过程中不要包含此时间点，合理规划任务运行。
7. **游戏退出**：当你的原神因为游戏崩溃、异地登录等情况异常退出，那当然无法继续运行脚本啦！除了顶号操作，请你排查是否因为自己电脑性能过差、内存爆满所致。
8. **键位设置**：运行前请尽可能将你的键位设置为原神默认键位，即使你有一些自定义的按键，也请确保不要和BGI快捷键设置冲突。举例：设置暂停按键为L，点击L会打开队伍配置，⚠️冲突！

上述情况为常见情况，如有未提及的场景，请及时反馈给脚本作者以解决。

### ❓js路线中途断开后能否继续从上次位置继续运行？
除非作者制作了对应功能（运行每条路线前由js记录一下），否则用户不能直接设置断点续跑。具体脚本是否支持还请自行尝试。

## 脚本编写

见 [脚本编写](/dev/js/create.html)


## 附录

全地图传送点坐标合集，也是软件内置的所有传送点。（当前只有到 5.0 版本，新版本已经完全不同，仅供参考）

https://wwmy.lanzouq.com/b0fosbd9g 密码:coco


